<!-- Navbar -->
<app-header [cartTotal]="(cart$ | async)?.length || 0"></app-header>
<!-- Navbar -->

<!--Main layout-->
<main class="mt-5 pt-4">
  <div class="container">
    <!-- Heading -->
    <h2 class="my-5 text-center">Checkout</h2>

    <!--Grid row-->
    <div class="row">
      <!--Grid column-->
      <div class="col-md-16 mb-16">
        <!-- Heading -->
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Your cart</span>
        </h4>

        <!-- Cart -->
        <ng-container *ngIf="cart$ | async as cart">
          <ul class="list-group mb-3" *ngIf="cart.length > 0; else emptyCart">
            <ng-container *ngFor="let product of cart">
              <li class="list-group-item d-flex justify-content-between">
                <div class="product-container">
                  <h6 class="my-0 product-title">
                    {{ product.book.title.trim() }}
                  </h6>
                  <small style="display: flex" class="text-muted">{{
                    product.book.author
                  }}</small>
                </div>
                <span class="text-muted"
                  >${{ product.book.price }} X {{ product.quantity }} = ${{
                    product.book.price * product.quantity
                  }}</span
                >
              </li>
            </ng-container>

            <li class="list-group-item d-flex justify-content-between">
              <span>Total (USD)</span>
              <strong>${{ this.cartTotal }}</strong>
            </li>
          </ul>
          <ng-template #emptyCart>
            <div class="container">
              <h1>
                Your cart is empty.
                <span class="empty-cart-sub-heading"
                  >But there are thousands of exciting Books that would like to
                  buy!</span
                >
              </h1>
            </div>
          </ng-template>
        </ng-container>

        <!-- Cart -->
      </div>
      <!--Grid column-->
    </div>
    <!--Grid row-->
  </div>
</main>
<!--Main layout-->

<!-- footer -->
<app-footer></app-footer>
